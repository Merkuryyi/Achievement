<!DOCTYPE html>
<html>
<head>
    <title>Achievements</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'achievements_app/css/mainPageProfile.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
</head>
<body>
<div class="background"></div>
<div>
    <login class="loginUser">userame</login>
    <photo class="photo"></photo>
    <icon class="icon">
        <svg  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304
                2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142
                21.4142C19.7893 21.0391 20 20.5304 20 20V13" stroke="#878CCD" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round"/>
            <path d="M18.5 2.50023C18.8978 2.1024 19.4374
                1.87891 20 1.87891C20.5626 1.87891 21.1022 2.1024 21.5 2.50023C21.8978 2.89805 22.1213 3.43762 22.1213
                4.00023C22.1213 4.56284 21.8978 5.1024 21.5 5.50023L12 15.0002L8 16.0002L9 12.0002L18.5 2.50023Z"
                stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </icon>
</div>

<div>
    <security  class="securityText">Безопасность</security>
    <iconNext class="iconNext1">
        <svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.21256 0.214867C-0.0708535 0.504303 -0.0708535 0.974636 0.21256 1.26407L9.26409 10.4899L0.21256 19.7337C-0.0708535 20.0232 -0.0708535 20.4935 0.21256 20.7829C0.495974 21.0724 0.956522 21.0724 1.23994 20.7829L10.7874 11.0325C10.9291 10.8878 11 10.7069 11 10.5079C11 10.327 10.9291 10.1281 10.7874 9.98334L1.23994 0.232958C0.956522 -0.0745681 0.495974 -0.0745695 0.21256 0.214867Z" fill="#878CCD"/>
        </svg>

    </iconNext>
</div>
<div>
    <notification class="notificationText">Уведомления</notification>
    <iconNext class="iconNext2">
        <svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.21256 0.214867C-0.0708535 0.504303 -0.0708535 0.974636 0.21256 1.26407L9.26409 10.4899L0.21256 19.7337C-0.0708535 20.0232 -0.0708535 20.4935 0.21256 20.7829C0.495974 21.0724 0.956522 21.0724 1.23994 20.7829L10.7874 11.0325C10.9291 10.8878 11 10.7069 11 10.5079C11 10.327 10.9291 10.1281 10.7874 9.98334L1.23994 0.232958C0.956522 -0.0745681 0.495974 -0.0745695 0.21256 0.214867Z" fill="#878CCD"/>
        </svg>
    </iconNext>
</div>
<div>
    <achievements class="achievementsText">Мои достижения</achievements>
    <iconNext class="iconNext3">
        <svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.21256 0.214867C-0.0708535 0.504303 -0.0708535 0.974636 0.21256 1.26407L9.26409 10.4899L0.21256 19.7337C-0.0708535 20.0232 -0.0708535 20.4935 0.21256 20.7829C0.495974 21.0724 0.956522 21.0724 1.23994 20.7829L10.7874 11.0325C10.9291 10.8878 11 10.7069 11 10.5079C11 10.327 10.9291 10.1281 10.7874 9.98334L1.23994 0.232958C0.956522 -0.0745681 0.495974 -0.0745695 0.21256 0.214867Z" fill="#878CCD"/>
        </svg>
    </iconNext>
</div>
<div>
    <exit  class="exitText">Выход из профиля</exit>
    <iconExit class="iconExit">
        <svg viewBox="0 0 22 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.9448 12.5H19.8823" stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16.4517 19.5312V21.875H5.45166V3.125H16.4517V5.46875H17.8267V2.34375C17.8267 2.13655
            17.7542 1.93784 17.6253 1.79132C17.4964 1.64481 17.3215 1.5625 17.1392 1.5625H4.76416C4.58182 1.5625
            4.40696 1.64481 4.27802 1.79132C4.14909 1.93784 4.07666 2.13655 4.07666 2.34375V22.6562C4.07666 22.8635
            4.14909 23.0622 4.27802 23.2087C4.40696 23.3552 4.58182 23.4375 4.76416 23.4375H17.1392C17.3215 23.4375 17.
            4964 23.3552 17.6253 23.2087C17.7542 23.0622 17.8267 22.8635 17.8267 22.6562V19.5312H16.4517Z" fill="#878CCD"/>
            <path d="M19.8823 12.5L17.1323 15.625" stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M19.8823 12.5L17.1323 9.375" stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M17.1323 6.32031V4.75781" stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M17.1323 20.3125V18.75" stroke="#878CCD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </iconExit>

</div>
    <div class="deleteProfile">Удаление профиля</div>
    <script>
        const loginUser = document.querySelector('.loginUser');
        document.addEventListener('DOMContentLoaded', function() {
                const userData = {
                    phone: localStorage.getItem('numberPhone')
                };
                fetch('{% url "loginUser" %}', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify(userData)
                })
                .then(response => response.json())
                .then(data => {
                if (data.login !== undefined) {
                    loginUser.textContent = data.login;
                } else {
                    showGlobalError(data.error || 'Неизвестная ошибка сервера');
                }
                })
                .catch(error => {
                    console.error('Error:', error);
                })
        });
    </script>
</body>
</html>